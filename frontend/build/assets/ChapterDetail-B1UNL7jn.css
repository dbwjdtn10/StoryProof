.chatbot-panel,.chatbot-modal{background-color:var(--modal-bg);color:var(--modal-text);transition:background-color .3s ease,color .3s ease}.chatbot-message-bubble.assistant-bubble{background:var(--chat-assistant-bg);color:var(--chat-assistant-text);border:1px solid var(--border, #0000001a)}.chatbot-message-bubble.user-bubble{background:var(--primary);color:var(--primary-foreground);border:none;box-shadow:0 2px 4px #0000001a}.chatbot-input-area{background:var(--modal-bg);border-top:1px solid var(--border)}.chatbot-input{background:var(--input-bg);border:1px solid var(--input-border);color:var(--input-text)}.chatbot-input::placeholder{color:var(--input-placeholder)}.detail-container button,.source-container button{color:var(--muted-foreground)!important}.detail-container p,.source-container div{color:var(--muted-foreground)!important;opacity:.9}.chatbot-message-bubble.user-bubble *{color:var(--primary-foreground)!important}.settings-panel{position:fixed;bottom:24px;right:24px;z-index:1000;display:flex;flex-direction:column;align-items:flex-end;pointer-events:none}.settings-container{width:500px;max-width:90vw;background:#fffffff2;border-radius:20px;box-shadow:0 20px 40px #0000001a,0 0 0 1px #0000000d;overflow:hidden;display:flex;flex-direction:column;max-height:100vh;animation:slideUpPanel .4s cubic-bezier(.16,1,.3,1);border:1px solid rgba(0,0,0,.05);pointer-events:auto}@keyframes slideUpPanel{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.settings-header{display:flex;align-items:center;justify-content:space-between;padding:24px 28px;border-bottom:1px solid rgba(0,0,0,.05);background-color:#1c1917}.settings-title{margin:0;font-size:1.25rem;font-weight:700;color:#fff;letter-spacing:-.01em}.close-button{background:transparent;border:none;cursor:pointer;padding:8px;border-radius:50%;color:#d1d5db;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.close-button:hover{background-color:#ffffff1a;color:#fff;transform:rotate(90deg)}.settings-content{padding:28px 32px;overflow-y:auto;flex:1;display:flex;flex-direction:column;gap:32px}.profile-section{text-align:center;margin-bottom:8px}.section-title{font-size:1.1rem;font-weight:700;color:#111827;margin:0 0 6px}.section-description{font-size:.9rem;color:#6b7280;margin:0;line-height:1.5}.settings-form{display:flex;flex-direction:column;gap:24px}.form-group{display:flex;flex-direction:column;gap:8px}.form-label{font-size:.9rem;font-weight:600;color:#374151;margin-left:4px}.form-input{width:100%;padding:1rem 1rem 1rem 1.5rem;border-radius:14px;border:1px solid #e5e7eb;background-color:#fff;font-size:.95rem;color:#111827;transition:all .2s cubic-bezier(.4,0,.2,1);box-shadow:0 1px 2px #00000008;text-align:left;box-sizing:border-box}.form-input:hover{border-color:#d1d5db}.form-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-input.disabled{background-color:#f9fafb;color:#6b7280;cursor:default;border-color:#e5e7eb;box-shadow:none}.input-note{font-size:.8rem;color:#6b7280;margin:4px 0 0 4px}.select-wrapper{position:relative;z-index:50}.select-button{width:100%;padding:14px 18px;border-radius:14px;border:1px solid #e5e7eb;background-color:#fff;font-size:.95rem;color:#111827;cursor:pointer;text-align:left;display:flex;justify-content:space-between;align-items:center;transition:all .2s;box-shadow:0 1px 2px #00000008}.select-button:hover{border-color:#d1d5db}.select-button.active{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-icon{transition:transform .2s;color:#9ca3af}.dropdown-icon.open{transform:rotate(180deg);color:#3b82f6}.select-dropdown{position:absolute;top:calc(100% + 8px);left:0;right:0;background-color:#fff;border:1px solid #f3f4f6;border-radius:16px;box-shadow:0 10px 25px -5px #0000001a,0 8px 10px -6px #0000000d;padding:8px;animation:fadeInDropdown .15s ease-out}@keyframes fadeInDropdown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.select-option{width:100%;padding:12px 16px;text-align:left;background:none;border:none;cursor:pointer;border-radius:10px;font-size:.9rem;color:#4b5563;transition:all .15s;font-weight:500}.select-option:hover{background-color:#f3f4f6;color:#111827}.select-option.selected{background-color:#eff6ff;color:#2563eb;font-weight:600}.model-note{font-size:.8rem;color:#6b7280;margin:8px 0 0 4px}.danger-zone{margin-top:12px;padding:20px;border-radius:16px;background-color:#fef2f2;border:1px solid #d18a8a;display:flex;flex-direction:column;gap:12px}.danger-title{font-size:1rem;font-weight:700;color:#991b1b;margin:0}.danger-description{font-size:.85rem;color:#b91c1c;margin:0;line-height:1.4}.settings-footer{padding:24px 32px 32px;background-color:#f9fafb;display:flex;justify-content:flex-end;gap:12px;border-top:1px solid rgba(0,0,0,.05)}.btn{height:48px;border-radius:12px;font-size:.95rem;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s;padding:0 24px}.btn-destructive{background-color:#fff;border:1px solid #ef4444;color:#ef4444;width:fit-content;align-self:flex-start;padding:0 16px;height:36px;font-size:.85rem}.btn-destructive:hover{background-color:#ef4444;color:#fff}.btn-outline{background-color:#fff;border:2px solid #b3bac9;color:#374151;width:100%}.btn-outline:hover{background-color:#f9fafb;border-color:#d1d5db;color:#111827}.settings-content::-webkit-scrollbar{width:6px}.settings-content::-webkit-scrollbar-track{background:transparent}.settings-content::-webkit-scrollbar-thumb{background-color:#0000001a;border-radius:3px}[data-theme=dark] .settings-container{background:#1a1a1a;border:1px solid #333}[data-theme=dark] .settings-header{background-color:#333;border-bottom-color:#333}[data-theme=dark] .settings-title{color:#fff}[data-theme=dark] .close-button{color:#9ca3af}[data-theme=dark] .close-button:hover{background-color:#ffffff1a;color:#fff}[data-theme=dark] .section-title{color:#e5e7eb}[data-theme=dark] .section-description{color:#9ca3af}[data-theme=dark] .form-label{color:#d1d5db}[data-theme=dark] .select-button{background-color:#262626!important;border-color:#404040;color:#e0e0e0}[data-theme=dark] .form-input{background:#262626!important;border-color:#404040!important;color:#e0e0e0!important}[data-theme=dark] .form-input:-webkit-autofill,[data-theme=dark] .form-input:-webkit-autofill:hover,[data-theme=dark] .form-input:-webkit-autofill:focus{-webkit-box-shadow:0 0 0 30px #262626 inset!important;-webkit-text-fill-color:#ffffff!important}[data-theme=dark] .form-input:focus,[data-theme=dark] .select-button.active{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f633}[data-theme=dark] .select-dropdown{background-color:#262626;border-color:#404040}[data-theme=dark] .select-option{color:#d1d5db}[data-theme=dark] .select-option:hover{background-color:#333;color:#fff}[data-theme=dark] .settings-footer{background-color:#1a1a1a;border-top-color:#333}[data-theme=dark] .btn-outline{background-color:transparent;border-color:#404040;color:#e0e0e0}[data-theme=dark] .btn-outline:hover{background-color:#262626;border-color:#525252}[data-theme=dark] .danger-zone{background-color:#7f1d1d1a;border-color:#7f1d1d}[data-theme=dark] .danger-title{color:#fca5a5}[data-theme=dark] .danger-description{color:#fda4af}[data-theme=dark] .btn-destructive{background-color:transparent;border-color:#ef4444;color:#f87171}[data-theme=dark] .btn-destructive:hover{background-color:#ef4444;color:#fff}[data-theme=sepia] .settings-container{background:#fdf6e3;border:1px solid #d4c4b7}[data-theme=sepia] .settings-header{background-color:#e6d3c1;border-bottom-color:#d4c4b7}[data-theme=sepia] .settings-title{color:#5b4636}[data-theme=sepia] .close-button{color:#8c7b70}[data-theme=sepia] .close-button:hover{background-color:#5b46361a;color:#4a3728}[data-theme=sepia] .section-title{color:#5b4636}[data-theme=sepia] .section-description{color:#8c7b70}[data-theme=sepia] .form-label{color:#5b4636}[data-theme=sepia] .form-input,[data-theme=sepia] .select-button{background-color:#fff;border-color:#d4c4b7;color:#4a3728}[data-theme=sepia] .form-input:focus,[data-theme=sepia] .select-button.active{border-color:#b58900;box-shadow:0 0 0 3px #b5890033}[data-theme=sepia] .select-dropdown{background-color:#fff;border-color:#d4c4b7}[data-theme=sepia] .select-option{color:#5b4636}[data-theme=sepia] .select-option:hover{background-color:#f0e4d7;color:#4a3728}[data-theme=sepia] .settings-footer{background-color:#fdf6e3;border-top-color:#d4c4b7}[data-theme=sepia] .btn-outline{background-color:transparent;border-color:#6b4f3a;color:#6b4f3a}[data-theme=sepia] .btn-outline:hover{background-color:#f0e4d7;border-color:#5d534b;color:#4a3728}[data-theme=sepia] .danger-zone{background-color:#dc322f0d;border-color:#eaddc5}[data-theme=sepia] .danger-title{color:#dc2626}[data-theme=sepia] .danger-description{color:#cb4b16}[data-theme=sepia] .btn-destructive{background-color:transparent;border-color:#dc2626;color:#dc2626}[data-theme=sepia] .btn-destructive:hover{background-color:#dc2626;color:#fff}.novel-toolbar{display:flex;align-items:center;gap:8px;padding:6px 16px;background-color:var(--card);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:50;box-shadow:0 1px 3px #0000000d;flex-wrap:wrap;min-height:48px}.novel-toolbar .group{display:flex;align-items:center;gap:2px}.reader-toolbar{background-color:var(--background);border-bottom:1px solid var(--border);justify-content:center;gap:24px;padding:8px 32px}.reader-toolbar .group{gap:12px}.reader-toolbar .toolbar-btn{position:relative;padding:8px;color:var(--foreground);border-radius:50%;transition:all .2s cubic-bezier(.4,0,.2,1)}.reader-toolbar .toolbar-btn:hover{background-color:var(--secondary);color:var(--primary);transform:translateY(-1px)}.reader-toolbar .toolbar-btn.active{background-color:var(--secondary);color:var(--primary)}.reader-toolbar{background-color:var(--background);border-bottom:1px solid var(--border)}.toolbar-btn{display:flex;align-items:center;justify-content:center;padding:6px;border-radius:6px;border:1px solid transparent;background:transparent;cursor:pointer;transition:all .2s;color:var(--foreground)}.toolbar-btn:hover{background-color:var(--secondary);color:var(--primary);border-color:var(--border)}.novel-toolbar .separator{width:1px;height:24px;background-color:var(--border);margin:0 4px}.novel-toolbar button{display:flex;align-items:center;justify-content:center;padding:4px;border:1px solid transparent;background:transparent;border-radius:4px;cursor:pointer;transition:all .2s;color:var(--foreground);min-width:32px;height:32px}.novel-toolbar button .material-symbols-outlined{font-size:20px;font-variation-settings:"wght" 500}.novel-toolbar button:hover{background-color:var(--secondary);color:var(--primary)}.novel-toolbar button.is-active{background-color:var(--secondary);color:var(--primary);border:1px solid rgba(107,79,58,.4)}.novel-toolbar button:disabled{opacity:.3;cursor:not-allowed}.novel-toolbar select{padding:4px 6px;border:1px solid #ccbeb0;border-radius:4px;background-color:var(--card);font-size:13px;color:var(--foreground);font-weight:450;outline:none;cursor:pointer;height:32px}.novel-toolbar select:hover{border-color:var(--primary)}.novel-toolbar select:disabled{opacity:.5;cursor:not-allowed}.style-select{width:80px}.font-select{width:110px}.size-select{width:70px}.spacing-select{width:90px}.color-picker-wrapper{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:32px;cursor:pointer;border-radius:4px;transition:background .2s}.color-picker-wrapper:hover{background-color:var(--secondary)}.color-picker-wrapper input[type=color]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer}.color-picker-wrapper .material-symbols-outlined{font-size:20px;color:var(--muted-foreground)}.search-group{display:flex;align-items:center;gap:4px;margin-left:auto;background-color:var(--secondary);border:1px solid #bdad9e;border-radius:4px;padding:0 4px 0 8px;height:32px}.search-group input{border:none;background:transparent;font-size:13px;outline:none;width:120px;color:var(--foreground)}.search-group button{height:24px;min-width:24px;padding:0}.search-group button .material-symbols-outlined{font-size:18px}.reader-toolbar select{background-color:var(--secondary);font-weight:500}.reader-toolbar .group>span{font-size:13px;color:var(--muted-foreground);padding:0 4px}.reader-popover{position:absolute;top:calc(100% + 12px);left:50%;transform:translate(-50%);background:var(--card);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:12px;box-shadow:0 10px 40px #0000001f,0 0 0 1px #0000000d;padding:12px;min-width:180px;z-index:1000;display:flex;flex-direction:column;gap:4px;animation:popover-fade-in .2s ease-out}.reader-popover:before{content:"";position:absolute;top:-6px;left:50%;transform:translate(-50%) rotate(45deg);width:12px;height:12px;background:var(--card);border-left:1px solid var(--border);border-top:1px solid var(--border)}@keyframes popover-fade-in{0%{opacity:0;transform:translate(-50%) translateY(8px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.popover-item{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-radius:8px;cursor:pointer;font-size:14px;color:var(--foreground);transition:background .2s}.popover-item:hover{background:var(--secondary)}.popover-item.selected{color:var(--primary);font-weight:600}.popover-header{padding:4px 12px 8px;font-size:12px;font-weight:700;color:var(--muted-foreground);text-transform:uppercase;letter-spacing:.05em}.popover-row{display:flex;align-items:center;gap:12px;padding:8px 12px}.popover-btn-small{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:6px;border:1px solid var(--border);background:var(--card);cursor:pointer;transition:all .2s;color:var(--muted-foreground)}.popover-btn-small:hover{border-color:var(--primary);background:var(--secondary);color:var(--primary)}.popover-btn-reset{padding:4px 16px;border-radius:20px;border:1px solid var(--border);color:var(--muted-foreground);background:var(--card);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s;margin-left:auto}.popover-btn-reset:hover{background:var(--secondary);color:var(--primary);border-color:var(--primary)}.ProseMirror{outline:none!important;padding:40px;min-height:500px;line-height:inherit;font-family:inherit}.ProseMirror p.is-editor-empty:first-child:before{content:attr(data-placeholder);float:left;color:var(--muted-foreground);pointer-events:none;height:0;opacity:.5}.ProseMirror h1{display:block;font-size:2em;font-weight:700;margin-bottom:.67em}.ProseMirror h2{display:block;font-size:1.5em;font-weight:700;margin-bottom:.75em}.ProseMirror h3{display:block;font-size:1.25em;font-weight:700;margin-bottom:.8em}.ProseMirror h4{display:block;font-size:1.1em;font-weight:700;margin-bottom:.9em}.ProseMirror ul{list-style-type:disc;padding-left:2em;margin:1em 0}.ProseMirror ol{list-style-type:decimal;padding-left:2em;margin:1em 0}.tiptap ul[data-type=taskList]{list-style:none;padding:0!important}.tiptap ul[data-type=taskList] li{display:flex;align-items:center;margin-bottom:.5em}.tiptap ul[data-type=taskList] li>label{flex:0 0 auto;margin-right:.5rem;user-select:none}.tiptap ul[data-type=taskList] li>div{flex:1 1 auto}.tiptap ul[data-type=taskList] input[type=checkbox]{cursor:pointer}.tiptap table{border-collapse:collapse;table-layout:fixed;width:100%;margin:1em 0;overflow:hidden}.tiptap table td,.tiptap table th{min-width:1em;border:2px solid #ced4da;padding:3px 5px;vertical-align:top;box-sizing:border-box;position:relative}.tiptap table th{font-weight:700;text-align:left;background-color:#f8f9fa}.tiptap table .selectedCell:after{z-index:2;position:absolute;content:"";inset:0;background:#c8c8ff66;pointer-events:none}.tiptap table .column-resize-handle{position:absolute;right:-2px;top:0;bottom:0;width:4px;background-color:#adf;pointer-events:none}.ProseMirror img{max-width:100%;height:auto;display:block;margin:1em auto}.ProseMirror li{margin-bottom:.5em}.tiptap mark{background-color:#ff0;padding:.1em .3em;border-radius:3px}
